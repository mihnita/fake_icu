name: Play with various flow activation methods

on:
  # To trigger the Env Test workflow manually, follow the instructions in
  # https://docs.github.com/en/actions/managing-workflow-runs/manually-running-a-workflow
  workflow_dispatch:
    inputs:
      logLevel:
        description: 'Log level'
        required: true
        default: 'warning'
        type: choice
        options:
        - info
        - error
        - warning
        - debug
      boolFlag:
        description: 'Test some boolean'
        required: false
        type: boolean
      gitTag:
        description: 'Git tag at which to sync'
        type: string
      gitRepeatBuildTag:
        description: 'Timestamp to use for repeatable builds'
        required: true
        type: string
      environment:
        description: 'Environment to run tests against'
        type: environment
        required: false

jobs:
  log-the-inputs:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "Log level   : $LEVEL"
          echo "Bool flag   : $BOOL_FLAG"
          echo "git tag     : $GIT_TAG"
          echo "Timestamp   : $TIMESATAMP"
          echo "Environment : ${{ inputs.environment }}"
          echo "GITHUB_SHA  : ${GITHUB_SHA}"
          echo "GITHUB_REF  : ${GITHUB_REF}"
          echo "=============================="
          set
        env:
          LEVEL: ${{ inputs.logLevel }}
          BOOL_FLAG: ${{ inputs.boolFlag }}
          GIT_TAG: ${{ inputs.gitTag }}
          TIMESATAMP: ${{ inputs.gitRepeatBuildTag }}
